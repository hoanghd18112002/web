<div class="main-content">
    <section class="section">
        <div class="section-body">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4>NHẬP SỐ LƯỢNG SẢN PHẨM</h4>
                        </div>
                        <div class="card-body">
                            <div class="text-center">
                                <a class="text-danger">Các trường có dấu (*) không được để trống</a>
                            </div>
                            <div class="form-row mt-5">
                                <div class="form-group col-md-3 col-xs-12">
                                    <label for="IDNhaCungCap">Nhà cung cấp <a class="text-danger"> (*)</a>:</label>
                                    <select class="form-control" name="IDNhaCungCap" [(ngModel)]="IDNhaCungCap">
                                        <option value="" selected disabled>--- Chọn nhà cung cấp ---</option>
                                        <option *ngFor="let ncc of ListNhaCungCap" value="{{ ncc.id }}">{{ ncc.ten }}</option>
                                    </select>
                                </div>                                                                  
                                <div class="form-group col-md-3 col-xs-12">
                                    <label for="ten">Người nhập </label>
                                    <input class="form-control" value="{{ user.ten }}" readonly/>   
                                </div>                                                                                   
                            </div>
                        </div>  
                        <hr>
                        <div class="card-header">
                            <h4>Thông tin chi tiết</h4>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group col-md-3 col-xs-12">
                                    <label for="idSanPham">Sản phẩm <a class="text-danger"> (*)</a>:</label>
                                    <ng-select [items]="ListSanPham" bindLabel="ten" bindValue="id" class="form-control" [(ngModel)]="newChiTiet.IDSanPham" (input)="onSearchChange($event)">
                                        <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
                                            <div class="form-control" class="custom-option">
                                                {{ item.ten }}
                                            </div>
                                        </ng-template>
                                    </ng-select>                                                                                                                 
                                </div>                                
                                <div class="form-group col-md-3 col-xs-12">
                                    <label for="ten">Số lượng <a class="text-danger"> (*)</a>:</label>
                                    <input class="form-control" name="newChiTiet.SoLuong" [(ngModel)]="newChiTiet.SoLuong"/>   
                                </div>  
                                <div class="form-group col-md-3 col-xs-12">
                                    <label for="ten">Giá </label>
                                    <input class="form-control" name="newChiTiet.Gia" [(ngModel)]="newChiTiet.Gia"/>   
                                </div>
                                <div class="form-group col-md-3 col-xs-12">
                                    <label for="ten">.</label>
                                    <button class="form-control col-md-12 col-xs-12 btn-success" (click)="addChiTiet()">Thêm chi tiết</button>  
                                </div>                                                                                   
                            </div>
                        </div>
                        <hr>
                        <table class="table table-hover mt-5" style="width:100%;">
                            <thead class="table table-striped">
                                <tr class="text-center">
                                    <th>#</th>
                                    <th>Tên</th>
                                    <th>Số lượng</th>
                                    <th>Giá</th>
                                    <th>Thao tác</th>
                                </tr>
                            </thead>
                            <tbody class="text-center">
                                <tr *ngFor="let ct of chiTiet; let i = index">
                                    <th>{{ i + 1 }}</th>
                                    <th>{{ ct.Ten }}</th>
                                    <th>{{ ct.SoLuong }}</th>
                                    <th>{{ ct.Gia }}</th>
                                    <td>
                                        <button class="btn btn-danger" (click)="deleteChiTiet(i)">Xoá</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <hr>
                        <div class="card-body">
                            <div class="form-group col-md-12 col-xs-12">
                                <button class="form-control col-md-12 col-xs-12 btn-info" (click)="add()">Nhập số lượng</button>  
                            </div>  
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>